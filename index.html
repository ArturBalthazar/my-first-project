<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Baltha Studio</title>
  <!-- Meta tags for responsiveness -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Favicon -->
  <link rel="icon" href="./assets/brand/Baltha_Studio_Icon_favicon_01.png">
  <!-- Link to CSS -->
  <link rel="stylesheet" href="style.css">
  <!-- Babylon.js library -->
  <script src="https://cdn.babylonjs.com/babylon.js"></script>
  <!-- Babylon.js GLTF/GLB loader plugin -->
  <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
  <!-- Babylon.js GUI -->
  <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
  <!-- Babylon.js Ammo.js -->
  <script src="https://cdn.babylonjs.com/ammo.js"></script>

  


  <!-- Adobe Fonts -->
  <link rel="stylesheet" href="https://use.typekit.net/uou6yju.css">
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen">
    <div class="logo-overlay">
      <img src="./assets/brand/vector/Baltha_Studio_Icon.svg" alt="Logo Top" class="logo-top">
    </div>
    <div class="loading-bar-container">
      <div class="loading-bar"></div>
    </div>
    <div class="logo-overlay">
      <img src="./assets/brand/vector/Baltha_Studio_Text_Sign.svg" alt="Logo Bottom" class="logo-bottom">
    </div>
  </div>

  <!-- Home Page -->
  <div id="home-page" style="display: none;">
    <!-- Header with logo and menu button -->
    <div class="header">
      <!-- Logo Icon -->
      <img src="./assets/brand/vector/Baltha_Studio_Icon.svg" alt="Icon Logo" class="logo-icon">
      <!-- Menu Icon -->
      <img src="./assets/images/menu.svg" alt="Menu" class="menu-button">
      <!-- Text Box -->
      <div class="text-box-1">
        <p>We design interactive web experiences tailored to your brand's essence and accessible to all.</p>
      </div>
    </div>
    <!-- Line Art -->
    <div class="lineArt-container">
      <img src="./assets/brand/background.png" alt="Background" class="background" />
    </div>
    <div class="text-bottom" id="text-bottom">
      <p>BALTHA STUDIO 2025</p>
    </div>
  </div>

  <!-- Canvas Container -->
  <div id="canvas-container">
    <!-- Babylon.js rendering canvas -->
    <canvas id="renderCanvas"></canvas>

    <!-- Existing overlay text (for typing effects, etc.) -->
    <div class="overlay-text" id="typing-text">
      <span class="typing-content"></span><span class="typing-marker">▌</span>
    </div>
    <!-- New Customization Overlay Block-->
    <div id="customization-overlay">
      <!-- Blurred Rectangle as Background -->
      <div id="overlay-bg"></div>

        <!-- Title Bar with Window Controls -->
      <div id="overlay-title-bar">
        <div id="window-controls">
          <span class="control minimize">–</span>
          <span class="control maximize">▢</span>
          <span class="control close">x</span>
        </div>
      </div>
      <!-- Button Group with Four Buttons -->
      <div id="button-container">
        <button class="custom-btn" data-index="0">
          <img src="./assets/images/1st_default.png" alt="Default Icon">
        </button>
        <button class="custom-btn" data-index="1">
          <img src="./assets/images/1st_necklace.png" alt="Necklace Icon">
        </button>
        <button class="custom-btn" data-index="2">
          <img src="./assets/images/1st_cookie.png" alt="Cookie Icon">
        </button>
        <button class="custom-btn" data-index="3">
          <img src="./assets/images/1st_badge.png" alt="Badge Icon">
        </button>
      </div>

      <div id="button-container-mode">
        <div class="btn-with-label">
          <button class="custom-btn-mode" data-index="0">
            <img src="./assets/images/guided_mode.png" alt="Guided Mode Icon">
          </button>
          <span class="btn-label">Guided</span>
        </div>
      
        <div class="btn-with-label">
          <button class="custom-btn-mode" data-index="1">
            <img src="./assets/images/free_mode.png" alt="Free Mode Icon">
          </button>
          <span class="btn-label">Free</span>
        </div>
      </div>
      
      <!-- "Customize it" Text -->
      <div id="custom-text">Customize it</div>

      <!-- One parent container to hold both columns -->
      <div id="continent-button-wrapper">
        <!-- 1st column of Left Container for Continent Buttons -->
        <div id="continent-buttons-1">
          <button data-continent="Africa">
            <img src="./assets/images/Africa.png" alt="Africa">
          </button>
          <button data-continent="Europe">
            <img src="./assets/images/Europe.png" alt="Europe">
          </button>
          <button data-continent="Oceania">
            <img src="./assets/images/Oceania.png" alt="Oceania">
          </button>
        </div>

        <!-- 2nd column of Left Container for Continent Buttons -->
        <div id="continent-buttons-2">
          <button data-continent="NorthAmerica">
            <img src="./assets/images/NorthAmerica.png" alt="North America">
          </button>
          <button data-continent="SouthAmerica">
            <img src="./assets/images/SouthAmerica.png" alt="South America">
          </button>
          <button data-continent="Asia">
            <img src="./assets/images/Asia.png" alt="Asia">
          </button>
        </div>
      </div>

      <!-- Top Live Indicator -->
      <div id="live-indicator">
        <div class="live-circle-wrapper">
          <div class="live-circle inner"></div>
          <div class="live-circle outer"></div>
        </div>
        <div id="live-text">Live Earth - None</div>
      </div>

      <!-- Container to hold both graphs side by side on the right side of your overlay -->
      <div id="graphs-container">
        <!-- Population Graph -->
        <div class="graph-box">
          <div class="graph-title">Population</div>
          <div class="graph-area">
            <!-- Axes -->
            <div class="axis x-axis"></div>
            <div class="axis y-axis"></div>
            
            <!-- Year Lines (vertical) for 1975, 2000, 2025 -->
            <div class="vertical-line" data-year="1950" style="left: 0%;"></div>
            <div class="vertical-line" data-year="1975" style="left: 33.3%;"></div>
            <div class="vertical-line" data-year="2000" style="left: 66.6%;"></div>
            <div class="vertical-line" data-year="2025" style="left: 99.9%;"></div>

            <!-- Year Labels -->
            <div class="year-label year-1950" style="left: 0%;">1950</div>
            <div class="year-label year-1975" style="left: 33.3%;">1975</div>
            <div class="year-label year-2000" style="left: 66.6%;">2000</div>
            <div class="year-label year-2025" style="left: 99.9%;">2025</div>

            <!-- A tooltip <div> for the chart (initially hidden) -->
            <div class="chart-tooltip" id="popTooltip"></div>

            <!-- Inline SVG to hold the population line -->
            <svg class="graph-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
              <!-- 1) Define a <defs> block with your gradient and filter -->
              <defs>
                <!-- Linear gradient for stroke -->
                <linearGradient id="myLineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stop-color="#99A1E6" />
                  <stop offset="50%" stop-color="#C79FCC" />
                  <stop offset="100%" stop-color="#EF8253" />
                </linearGradient>
                
                <!-- Filter for the glow or blur effect -->
                <filter id="glowFilter" x="-50%" y="-50%" width="200%" height="200%">
                  <!-- Increase stdDeviation for more blur. Also consider <feDropShadow> for a glow. -->
                  <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="blur"/>
                  <!-- Optionally re-merge into the original shape if you want combined effect -->
                  <feMerge>
                    <feMergeNode in="blur"/>
                    <feMergeNode in="blur"/>  <!-- repeating merges intensify glow -->
                    <feMergeNode in="SourceGraphic"/>
                  </feMerge>
                </filter>
              </defs>
            
              <!-- 2) The “glow” path behind, referencing the filter -->
              <path id="myGlowPathPpl" fill="none" stroke="url(#myLineGradient)"
                    stroke-width="3" filter="url(#glowFilter)" opacity="0.7" />
            
              <!-- 3) The main path on top for crisp stroke -->
              <path id="myMainPathPpl" fill="none" stroke="url(#myLineGradient)"
                    stroke-width="1.5" />
            
            </svg>

            <div class="graph-live-dot" id="liveDotPpl"></div>
          </div>
        </div>

        <!-- GDP Graph -->
        <div class="graph-box">
          <div class="graph-title">GDP</div>
          <div class="graph-area">
            <!-- Axes -->
            <div class="axis x-axis"></div>
            <div class="axis y-axis"></div>
            
            <!-- Year Lines (vertical) for 1975, 2000, 2025 -->
            <div class="vertical-line" data-year="1950" style="left: 0%;"></div>
            <div class="vertical-line" data-year="1975" style="left: 33.3%;"></div>
            <div class="vertical-line" data-year="2000" style="left: 66.6%;"></div>
            <div class="vertical-line" data-year="2025" style="left: 99.9%;"></div>

            <!-- Year Labels -->
            <div class="year-label year-1950" style="left: 0%;">1950</div>
            <div class="year-label year-1975" style="left: 33.3%;">1975</div>
            <div class="year-label year-2000" style="left: 66.6%;">2000</div>
            <div class="year-label year-2025" style="left: 99.9%;">2025</div>

            <!-- A tooltip <div> for the chart (initially hidden) -->
            <div class="chart-tooltip" id="popTooltip"></div>

            <!-- Inline SVG to hold the GDP line -->
            <svg class="graph-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
              <!-- 1) Define a <defs> block with your gradient and filter -->
              <defs>
                <!-- Linear gradient for stroke -->
                <linearGradient id="myLineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stop-color="#99A1E6" />
                  <stop offset="50%" stop-color="#C79FCC" />
                  <stop offset="100%" stop-color="#EF8253" />
                </linearGradient>
                
                <!-- Filter for the glow or blur effect -->
                <filter id="glowFilter" x="-50%" y="-50%" width="200%" height="200%">
                  <!-- Increase stdDeviation for more blur. Also consider <feDropShadow> for a glow. -->
                  <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="blur"/>
                  <!-- Optionally re-merge into the original shape if you want combined effect -->
                  <feMerge>
                    <feMergeNode in="blur"/>
                    <feMergeNode in="blur"/>  <!-- repeating merges intensify glow -->
                    <feMergeNode in="SourceGraphic"/>
                  </feMerge>
                </filter>
              </defs>
            
              <!-- 2) The “glow” path behind, referencing the filter -->
              <path id="myGlowPathGdp" fill="none" stroke="url(#myLineGradient)"
                    stroke-width="3" filter="url(#glowFilter)" opacity="0.7" />
            
              <!-- 3) The main path on top for crisp stroke -->
              <path id="myMainPathGdp" fill="none" stroke="url(#myLineGradient)"
                    stroke-width="1.5" />
            </svg>

            <div class="graph-live-dot" id="liveDotGdp"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- ▸ PORTAL INFO OVERLAY  ──────────────────────────────── -->
    <div id="portal-info-overlay" class="portal-hidden">
      <!-- Frosted-glass background -->
      <div class="portal-bg"></div>

      <!-- Header: logo + title -->
      <div class="portal-header">
        <img id="portal-logo" src="./assets/images/pistons_logo.png" alt="Portal Logo">
        <h2 id="portal-title">Pistons Virtual Store</h2>
      </div>

      <!-- Scrollable content area -->
      <div class="portal-content" id="portal-content">
        <!-- Inject text / images / <iframe …> for YouTube here -->
      </div>

    </div>
    <!-- ─────────────────────────────────────────────────────── -->

  </div>

  <!-- ▸ GLOBAL PORTAL CONTROLS ─────────────────────────────── -->
  <div id="portal-controls">
    
    <!-- Info toggle -->
    <button class="control-btn" id="info-btn">
      <img src="./assets/images/info.png"   id="info-icon"   alt="Info">
    </button>

    <!-- Audio toggle -->
    <button class="control-btn" id="audio-btn">
      <img src="./assets/images/audio_on.png" id="audio-icon" alt="Audio">
    </button>

    <!-- NAV-MODE SLIDER -->
    <div class="nav-toggle guided" id="nav-toggle">
      <img class="mode-icon icon-guided" src="./assets/images/guided_mode.png" alt="Guided">
      <img class="mode-icon icon-free"   src="./assets/images/free_mode.png"   alt="Free">
      <div class="nav-knob"></div>
    </div>

  </div>

  <div id="fpsCounter">FPS: 0</div>

  <div id="byd-customizer-panel">
    <div class="panel-bg"></div> <!-- fixed blurred background -->
  
    <div class="panel-content">
      <div class="panel-title">Customize your BYD</div>
      <div class="divider"></div>
  
      <div class="customizer-section">
        <div class="section-header">Body Color <span class="arrow">▾</span></div>
        <div class="options-row">
          <button class="color-btn" data-color="yellow"><img src="./assets/images/body_yellow.png" /></button>
          <button class="color-btn" data-color="white"><img src="./assets/images/body_white.png" /></button>
          <button class="color-btn" data-color="black"><img src="./assets/images/body_black.png" /></button>
          <button class="color-btn" data-color="pink"><img src="./assets/images/body_pink.png" /></button>
        </div>
      </div>
  
      <div class="divider"></div>
  
      <div class="customizer-section">
        <div class="section-header">Interior Trims <span class="arrow">▾</span></div>
        <div class="options-row">
          <button class="trim-btn" data-trim="darkBlue"><img src="./assets/images/trim_darkBlue.png" /></button>
          <button class="trim-btn" data-trim="lightBlue"><img src="./assets/images/trim_lightBlue.png" /></button>
          <button class="trim-btn" data-trim="pink"><img src="./assets/images/trim_pink.png" /></button>
        </div>
      </div>

      <div class="divider"></div>
  
      <button id="toggle-view-btn">
        <img src="./assets/images/interior.png" />
        Interior view
      </button>
    </div>
  </div>
  
  <!-- Chatbot UI -->
  <div id="chatContainer">
    <div id="chatButton">
      <img src="./assets/images/chatIcon.svg" alt="Chat Icon">
    </div>        
    <div id="chatWindow" style="display:none;">
      <div id="chatHeader">
        <img src="./assets/images/chatbot_avatar.jpg" alt="Artur Balthazar Avatar">
        <div>
          <span>Artur Balthazar</span>
          <span>Director at Baltha Studio</span>
        </div>
        <button id="closeChat">✖</button>
      </div>
      <div id="chatMessages"></div>
    </div>
    <textarea id="chatInput" placeholder="Type your message here..." rows="1"></textarea>
  </div>

  <div id="white-fade-overlay"></div>


  <!-- Include JavaScript -->
  <script src="script.js"></script>
  <script src="chatbot.js"></script>

</body>
</html>
